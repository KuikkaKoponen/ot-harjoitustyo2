{"version":3,"sources":["components/Note.js","components/Filter.js","components/Add.js","services/persons.js","App.js","index.js"],"names":["Note","note","toggleImportance","name","number","onClick","Filter","newFilter","handleNoteChange3","value","onChange","Add","onSubmit","value2","onChange2","type","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","errorMessage","setErrorMessage","useEffect","console","log","noteService","initialPersons","length","Notification","message","className","filtered","filter","person","includes","event","target","preventDefault","window","confirm","JSON","stringify","returned","map","setTimeout","catch","error","n","newPerson","returnedPerson","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c284b85.chunk.js","sourcesContent":["import React from 'react'\n\nconst Note = ({ note, toggleImportance  }) => {\n    return (\n      <li>\n        {note.name} {note.number}\n        <button onClick={toggleImportance}>Delete</button>\n      </li>\n    )\n  }\n\n  export default Note\n","import React from 'react'\n\nconst Filter = ({newFilter, handleNoteChange3}) => {\n    return (\n        <form> \n            <div>\n            filter shown with:\n            <input \n            value={newFilter} \n            onChange={handleNoteChange3}\n            />\n            </div>\n      </form> \n    )\n  }\n\n  export default Filter","import React from 'react'\n\nconst Add = ({onSubmit, value, onChange, value2, onChange2}) => {\n    return (\n        <form onSubmit={onSubmit}> \n        <div>\n        name:\n        <input \n          value={value} \n          onChange={onChange}\n        />\n        </div>\n        <div>\n         number:\n        <input \n          value={value2} \n          onChange={onChange2}\n        />\n        </div>\n        <button type=\"submit\">add</button>\n      </form> \n    )\n  }\n\n  export default Add","import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/api/persons'\n//const baseUrl = 'https://fullstack2000.herokuapp.com/api/persons'\n// Voisi olla myös alla oleva sen jälkeen kun ovat samassa kansiossa\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(baseUrl + '/' + id)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  remove: remove, \n  update: update \n}","import React, { useState, useEffect } from 'react'\nimport Note from './components/Note'\nimport Filter from './components/Filter'\nimport Add from './components/Add'\nimport noteService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n    noteService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  \n  console.log('render', persons.length, 'notes')\n\n  const handleNoteChange1 = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNoteChange2 = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleNoteChange3 = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const check = () => {\n    console.log('')\n    const filtered = persons.filter(person => person.name === newName)\n    if(filtered.length === 0) {\n      return false\n    } else {\n      return true\n    }\n  }\n\n  const addNote = (event) => {\n    event.preventDefault()\n    console.log(event.target.value)\n\n    if (check()) {\n      const filtered = persons.filter(person => person.name === newName)\n      const id = filtered[0].id\n      const person = {name: newName, number: newNumber, id: id}\n      \n      if(window.confirm('Henkilö on jo puhelinluettelossa, päivitetäänkö numero?')) {\n        console.log('update: ', JSON.stringify(person))\n        noteService\n        .update(id, person).then(returned => {\n          setPersons(persons.map(person => person.id !== id ? person : returned))\n          setErrorMessage(\n            `Person '${person.name}' updated`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log('error in update')\n          setErrorMessage(\n            `Person '${person.name}' was already deleted from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(n => n.id !== id))\n        })\n      }      \n    } else {\n      const newPerson = {name: newName, number: newNumber}\n      console.log('new created')\n      noteService\n        .create(newPerson)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setErrorMessage(\n          `Person '${newName}' added`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n\n    }\n  }\n\n  const toggleImportanceOf = (id) => {\n    console.log(id + ' Poistetaan')\n    if(window.confirm('Haluatko varmasti poistaa henkilön')) {\n      noteService\n        .remove(id)\n        .then(response=> {\n          console.log(`Response data ${response}`)\n          setPersons(persons.filter(n => n.id !== id))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(\n            `Person '${id}' removed from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n\n      })\n      .catch(error => {\n        console.log('error in delete')\n        setErrorMessage(\n          `Person '${id}' was already removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setPersons(persons.filter(n => n.id !== id))\n      })\n    }\n    \n\n  }\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n\n  const filtered = persons.filter(person => person.name.includes(newFilter))\n\n  return (\n    <div>\n      <h1>Phonebook 3</h1>\n      <Notification message={errorMessage} />\n      <Filter newFilter={newFilter} handleNoteChange3={handleNoteChange3} />\n      \n      <h2>Add new</h2>\n      <Add onSubmit={addNote} value={newName} onChange={handleNoteChange1} value2={newNumber} onChange2={handleNoteChange2} />\n      <h2>Numbers</h2>\n      <ul>\n        {filtered.map((note) =>\n          <Note key={note.name} note={note} toggleImportance={() => toggleImportanceOf(note.id)}/>\n        )}\n      </ul>\n    </div> \n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}